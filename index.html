<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Walk For</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body{margin:0;font-family:sans-serif;background:radial-gradient(circle at center,#0a0a1a,#000);color:#fff;}
    header{padding:10px;background:#111;display:flex;justify-content:space-between;align-items:center}
    .badge{background:#ff0;color:#000;padding:4px 8px;border-radius:6px;font-weight:bold}
    .container{padding:20px;text-align:center}
    #character{font-size:80px;margin:20px;display:inline-block}
    button{padding:10px 20px;border:none;border-radius:8px;background:#6cf;color:#000;font-weight:bold;cursor:pointer}
    .card{background:#111;padding:10px;margin:10px;border-radius:8px}
    input{margin:5px;padding:8px;width:90%;border-radius:5px;border:none}
    #activityList{list-style:none;padding:0;margin:0;max-height:100px;overflow:auto;font-size:12px;text-align:left}
  </style>
</head>
<body>
  <header>
    <div><b>Walk For</b><br><small>User ID: 6932175</small></div>
    <div class="badge">$1</div>
  </header>

  <div class="container">
    <div id="character">ðŸš¶</div><br>
    <button id="startBtn">Start</button>
    <p>Status: <span id="status">Idle</span></p>
    <p>Wallet: <span id="coins">0</span> coins (â‚¹<span id="rupee">0</span>)</p>
    <p>Daily Earned: <span id="earned">0</span> / 1000</p>
    <button id="claimBtn">Claim</button>
  </div>

  <div class="card">
    <h3>Withdrawal (Bank Transfer Only)</h3>
    <input id="accName" placeholder="Account Holder Name">
    <input id="bankName" placeholder="Bank Name">
    <input id="accNumber" placeholder="Account Number">
    <input id="ifsc" placeholder="IFSC Code">
    <input id="withdrawAmount" type="number" placeholder="Amount in â‚¹">
    <button id="withdrawBtn">Request Withdraw</button>
  </div>

  <div class="card">
    <h3>Activity Log</h3>
    <ul id="activityList"></ul>
  </div>

<script>
const COIN_TO_RUPEE=0.1, DAILY_CAP=1000, MIN_WITHDRAW=200;
let state={coins:0,daily:0,isWalking:false};
let timer;

// midnight reset check
function checkMidnight(){
  let now=new Date();
  if(now.getHours()===0 && now.getMinutes()===0 && now.getSeconds()===0){
    state.daily=0;
    document.getElementById('status').innerText='Reset for new day';
    log('New day reset, you can earn again.');
    updateUI();
  }
}

function log(msg){
  let ul=document.getElementById('activityList');
  let li=document.createElement('li');
  li.innerText=new Date().toLocaleTimeString()+" â€” "+msg;
  ul.prepend(li);
}
function updateUI(){
  document.getElementById('coins').innerText=Math.floor(state.coins);
  document.getElementById('rupee').innerText=Math.floor(state.coins*COIN_TO_RUPEE);
  document.getElementById('earned').innerText=Math.floor(state.daily);
}

document.getElementById('startBtn').onclick=()=>{
  if(state.isWalking){
    state.isWalking=false;
    clearInterval(timer);
    document.getElementById('status').innerText='Stopped';
    log('Stopped manually');
    return;
  }
  if(state.daily>=DAILY_CAP){
    alert('Daily cap reached (1000 coins). Try tomorrow.');
    return;
  }
  state.isWalking=true;
  document.getElementById('status').innerText='Walking';
  log('Started walking');
  timer=setInterval(()=>{
    state.daily+=1; // pehle sirf daily me add hoga
    updateUI();
    if(state.daily>=DAILY_CAP){
      clearInterval(timer);
      state.isWalking=false;
      document.getElementById('status').innerText='Daily cap reached';
      log('Stopped automatically at 1000 coins');
    }
    checkMidnight();
  },1000);
};

// Claim button logic
document.getElementById('claimBtn').onclick=()=>{
  let available=Math.floor(state.daily);
  if(available<=0){
    alert('No coins available to claim');
    return;
  }
  if(available>DAILY_CAP){
    available=DAILY_CAP;
  }
  state.coins+=available;
  state.daily=0; // reset daily after claim
  updateUI();
  log('Claimed '+available+' coins into wallet');
};

document.getElementById('withdrawBtn').onclick=()=>{
  let amt=Number(document.getElementById('withdrawAmount').value);
  if(amt<MIN_WITHDRAW){
    alert('Minimum withdraw is â‚¹'+MIN_WITHDRAW);
    return;
  }
  let need=amt/COIN_TO_RUPEE;
  if(state.coins<need){
    alert('Not enough coins');
    return;
  }
  state.coins-=need;
  updateUI();
  log('Withdraw requested â‚¹'+amt+' ('+Math.floor(need)+' coins). Pending...');
  alert('Withdraw request pending (for demo).');
};

updateUI();
</script>
</body>
</html>
